2015-04-21 22:01:35.589  INFO 37853 --- [main] o.a.maven.surefire.booter.ForkedBooter   : Starting ForkedBooter v2.15 on herve-3.local with PID 37853 (/Users/herve/.m2/repository/org/apache/maven/surefire/surefire-booter/2.15/surefire-booter-2.15.jar started by herve in /Users/herve/Projects/mora/mora-rest-space3)
2015-04-21 22:01:36.220  INFO 37853 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:01:36 EDT 2015]; root of context hierarchy
2015-04-21 22:01:37.726  INFO 37853 --- [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]
2015-04-21 22:01:38.809  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cache.annotation.ProxyCachingConfiguration' of type [class org.springframework.cache.annotation.ProxyCachingConfiguration$$EnhancerBySpringCGLIB$$363e5123] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.834  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cee086c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.872  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'transactionAttributeSource' of type [class org.springframework.transaction.annotation.AnnotationTransactionAttributeSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.890  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'transactionInterceptor' of type [class org.springframework.transaction.interceptor.TransactionInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.897  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.config.internalTransactionAdvisor' of type [class org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.930  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'cacheOperationSource' of type [class org.springframework.cache.annotation.AnnotationCacheOperationSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.959  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'cacheInterceptor' of type [class org.springframework.cache.interceptor.CacheInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:38.963  INFO 37853 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cache.config.internalCacheAdvisor' of type [class org.springframework.cache.interceptor.BeanFactoryCacheOperationSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:01:39.735  INFO 37853 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 18081 (http)
2015-04-21 22:01:40.183  INFO 37853 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2015-04-21 22:01:40.216  INFO 37853 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.20
2015-04-21 22:01:40.530  INFO 37853 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2015-04-21 22:01:40.569  INFO 37853 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4316 ms
2015-04-21 22:01:42.757  INFO 37853 --- [localhost-startStop-1] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2015-04-21 22:01:44.093  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
2015-04-21 22:01:44.094  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.094  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/mappings],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.107  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/info],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.108  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
2015-04-21 22:01:44.109  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.114  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/shutdown],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.ShutdownMvcEndpoint.invoke()
2015-04-21 22:01:44.114  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/autoconfig],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.115  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/dump],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.116  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/configprops],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.118  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/beans],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.119  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/health],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(java.security.Principal)
2015-04-21 22:01:44.119  INFO 37853 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/trace],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:01:44.444  INFO 37853 --- [localhost-startStop-1] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 5ac120a6-94ce-493e-b97b-d6516f1a287f

2015-04-21 22:01:44.467  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/css/**'], []
2015-04-21 22:01:44.468  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/js/**'], []
2015-04-21 22:01:44.468  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/images/**'], []
2015-04-21 22:01:44.469  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/favicon.ico'], []
2015-04-21 22:01:44.469  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/error'], []
2015-04-21 22:01:44.789  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@326f4a5c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1946c18c, org.springframework.security.web.header.HeaderWriterFilter@41bf611a, org.springframework.security.web.authentication.logout.LogoutFilter@5261b5be, tchepannou.mora.rest.core.security.TokenAuthenticationFilter@482fdbbf, tchepannou.mora.rest.core.security.CorsFilter@538bc2f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fb25637, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15e50c93, org.springframework.security.web.session.SessionManagementFilter@a1fc80e, org.springframework.security.web.access.ExceptionTranslationFilter@4fb877de, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@35cb8b6a]
2015-04-21 22:01:44.812  INFO 37853 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/info'], Ant [pattern='/info/**'], Ant [pattern='/info.*'], Ant [pattern='/health'], Ant [pattern='/health/**'], Ant [pattern='/health.*'], Ant [pattern='/metrics'], Ant [pattern='/metrics/**'], Ant [pattern='/metrics.*'], Ant [pattern='/mappings'], Ant [pattern='/mappings/**'], Ant [pattern='/mappings.*'], Ant [pattern='/env'], Ant [pattern='/env/**'], Ant [pattern='/env.*'], Ant [pattern='/shutdown'], Ant [pattern='/shutdown/**'], Ant [pattern='/shutdown.*'], Ant [pattern='/autoconfig'], Ant [pattern='/autoconfig/**'], Ant [pattern='/autoconfig.*'], Ant [pattern='/dump'], Ant [pattern='/dump/**'], Ant [pattern='/dump.*'], Ant [pattern='/configprops'], Ant [pattern='/configprops/**'], Ant [pattern='/configprops.*'], Ant [pattern='/beans'], Ant [pattern='/beans/**'], Ant [pattern='/beans.*'], Ant [pattern='/trace'], Ant [pattern='/trace/**'], Ant [pattern='/trace.*']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22a1fe85, org.springframework.security.web.context.SecurityContextPersistenceFilter@192765d0, org.springframework.security.web.header.HeaderWriterFilter@32ca7074, org.springframework.security.web.authentication.logout.LogoutFilter@40046f44, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@150c3ae4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@183452be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@791cd81c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20e3eac5, org.springframework.security.web.session.SessionManagementFilter@6d6a9972, org.springframework.security.web.access.ExceptionTranslationFilter@2fa5c6ec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77028b65]
2015-04-21 22:01:45.114  INFO 37853 --- [localhost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]
2015-04-21 22:01:45.128  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'metricFilter' to: [/*]
2015-04-21 22:01:45.129  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]
2015-04-21 22:01:45.130  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'webRequestLoggingFilter' to: [/*]
2015-04-21 22:01:45.131  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'springSecurityFilterChain' to: [/*]
2015-04-21 22:01:45.132  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2015-04-21 22:01:45.133  INFO 37853 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'applicationContextIdFilter' to: [/*]
2015-04-21 22:01:45.686  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:01:36 EDT 2015]; root of context hierarchy
2015-04-21 22:01:45.778  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.get(long) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:01:45.781  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.update(long,tchepannou.mora.rest.space.dto.SaveMemberDto) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:01:45.782  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[DELETE],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public void tchepannou.mora.rest.space.controller.MemberController.delete(long)
2015-04-21 22:01:45.783  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members],methods=[PUT],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.create(tchepannou.mora.rest.space.dto.CreateMemberDto) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:01:45.788  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.get(long)
2015-04-21 22:01:45.789  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/types/{typeId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceTypeDto tchepannou.mora.rest.space.controller.SpaceController.type(long)
2015-04-21 22:01:45.789  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.update(long,tchepannou.mora.rest.space.dto.SaveSpaceDto)
2015-04-21 22:01:45.796  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[DELETE],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public void tchepannou.mora.rest.space.controller.SpaceController.delete(long)
2015-04-21 22:01:45.797  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces],methods=[PUT],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.create(java.security.Principal,tchepannou.mora.rest.space.dto.CreateSpaceDto)
2015-04-21 22:01:45.805  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/types],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.util.List<tchepannou.mora.rest.space.dto.SpaceTypeDto> tchepannou.mora.rest.space.controller.SpaceController.types()
2015-04-21 22:01:45.810  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2015-04-21 22:01:45.811  INFO 37853 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],methods=[],params=[],headers=[],consumes=[],produces=[text/html],custom=[]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)
2015-04-21 22:01:45.886  INFO 37853 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:01:45.888  INFO 37853 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:01:45.986  INFO 37853 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:01:46.247  INFO 37853 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 18081 (http)
2015-04-21 22:01:46.253  INFO 37853 --- [main] o.a.maven.surefire.booter.ForkedBooter   : Started ForkedBooter in 11.27 seconds (JVM running for 13.521)
2015-04-21 22:01:46.906  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:46.913  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 7 ms.
2015-04-21 22:01:46.914  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:46.923  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 9 ms.
2015-04-21 22:01:49.427  INFO 37853 --- [http-nio-18081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2015-04-21 22:01:49.427  INFO 37853 --- [http-nio-18081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2015-04-21 22:01:49.475  INFO 37853 --- [http-nio-18081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 47 ms
2015-04-21 22:01:49.534  INFO 37853 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:49.565 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:49.566 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:49.692 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:49.693 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:49.750  INFO 37853 --- [http-nio-18081-exec-1] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:49 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:49.750  INFO 37853 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:49.913 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:49.913 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:49.927 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:01:49.929 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_member SET role_id=? WHERE id=?]
2015-04-21 22:01:49.988  INFO 37853 --- [http-nio-18081-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2015-04-21 22:01:50.119  INFO 37853 --- [http-nio-18081-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2015-04-21 22:01:50.183  WARN 37853 --- [http-nio-18081-exec-1] t.m.r.space.controller.MemberController  : tchepannou.mora.core.domain.Member@a5383b1[spaceId=1,userId=1,roleId=2,creationDate=2014-12-01 14:30:55.0,id=10] already exists

tchepannou.mora.core.exception.MemberDuplicationException: duplicate member
	at tchepannou.mora.core.service.impl.MemberServiceImpl.update(MemberServiceImpl.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:317)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:350)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:299)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.update(Unknown Source)
	at tchepannou.mora.rest.space.controller.MemberController.update(MemberController.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:644)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:291)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.CorsFilter.doFilter(CorsFilter.java:21)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.TokenAuthenticationFilter.doFilter(TokenAuthenticationFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.MetricFilterAutoConfiguration$MetricsFilter.doFilterInternal(MetricFilterAutoConfiguration.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:516)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1086)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:659)
	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [UPDATE t_member SET role_id=? WHERE id=?]; Duplicate entry '1-1-2' for key 'space_id'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:660)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:909)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:970)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:980)
	at tchepannou.mora.core.dao.jdbc.JdbcMemberDao.update(JdbcMemberDao.java:85)
	at tchepannou.mora.core.service.impl.MemberServiceImpl.update(MemberServiceImpl.java:67)
	... 104 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1040)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2468)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2629)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2719)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2450)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2355)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:916)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:909)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:644)
	... 109 common frames omitted

2015-04-21 22:01:50.186 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:50.186 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT M.* FROM t_member M JOIN t_space S ON S.id=M.space_id JOIN t_user U ON U.id=M.user_id  WHERE M.space_id=? AND M.user_id=? AND M.role_id=? AND S.deleted=? AND U.deleted=?]
2015-04-21 22:01:51.610  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:51.613  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:51.614  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:51.620  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:01:51.684  INFO 37853 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:51.684  INFO 37853 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:51.689 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:51.689 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:51.781  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:51.784  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:51.785  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:51.791  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:01:51.834  INFO 37853 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:51.834  INFO 37853 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:51.838 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:51.838 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:51.994  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:51.999  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:01:51.999  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:52.008  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 8 ms.
2015-04-21 22:01:52.072  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:52.073 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.073 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:52.081 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.081 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:52.112  INFO 37853 --- [http-nio-18081-exec-4] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:52 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:52.113  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:52.119 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:01:52.121 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:01:52.166 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows and returned 1 keys
2015-04-21 22:01:52.291 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.292 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:52.351  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:52.357  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 6 ms.
2015-04-21 22:01:52.358  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:52.389  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 31 ms.
2015-04-21 22:01:52.413  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:52.414 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.414 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:52.445 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.445 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:52.456  INFO 37853 --- [http-nio-18081-exec-5] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:52 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:52.456  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:52.459 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.460 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:52.510 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:01:52.511 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM t_member WHERE id=?]
2015-04-21 22:01:52.546 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:01:52.554 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.555 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:52.575  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:52.579  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:01:52.580  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:52.586  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:52.604  INFO 37853 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:52.605 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.605 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:52.648 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.648 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:52.660  INFO 37853 --- [http-nio-18081-exec-6] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:52 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:52.660  INFO 37853 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:52.663 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:01:52.663 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:01:52.680  WARN 37853 --- [http-nio-18081-exec-6] t.m.r.space.controller.MemberController  : User{1 + is already member of Space{1} as RoleP2}

tchepannou.mora.core.exception.MemberDuplicationException: duplicate member
	at tchepannou.mora.core.service.impl.MemberServiceImpl.create(MemberServiceImpl.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:317)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:350)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:299)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at tchepannou.mora.rest.space.controller.MemberController.create(MemberController.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:879)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:291)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.CorsFilter.doFilter(CorsFilter.java:21)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.TokenAuthenticationFilter.doFilter(TokenAuthenticationFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.MetricFilterAutoConfiguration$MetricsFilter.doFilterInternal(MetricFilterAutoConfiguration.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:516)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1086)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:659)
	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL []; Duplicate entry '1-1-2' for key 'space_id'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:660)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:943)
	at tchepannou.mora.core.dao.jdbc.JdbcModelDao.create(JdbcModelDao.java:19)
	at tchepannou.mora.core.dao.jdbc.JdbcMemberDao.create(JdbcMemberDao.java:17)
	at tchepannou.mora.core.service.impl.MemberServiceImpl.create(MemberServiceImpl.java:55)
	... 104 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1040)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2468)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2629)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2719)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2450)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2355)
	at org.springframework.jdbc.core.JdbcTemplate$3.doInPreparedStatement(JdbcTemplate.java:946)
	at org.springframework.jdbc.core.JdbcTemplate$3.doInPreparedStatement(JdbcTemplate.java:943)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:644)
	... 108 common frames omitted

2015-04-21 22:01:52.682 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.682 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT M.* FROM t_member M JOIN t_space S ON S.id=M.space_id JOIN t_user U ON U.id=M.user_id  WHERE M.space_id=? AND M.user_id=? AND M.role_id=? AND S.deleted=? AND U.deleted=?]
2015-04-21 22:01:52.821  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:52.825  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:52.825  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:52.832  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 7 ms.
2015-04-21 22:01:52.851  INFO 37853 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:52.852 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.852 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:52.873 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.873 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:52.901  INFO 37853 --- [http-nio-18081-exec-7] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:52 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:52.902  INFO 37853 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:52.905 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:52.905 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:01:52.915 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:01:52.915 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_member SET role_id=? WHERE id=?]
2015-04-21 22:01:52.925 DEBUG 37853 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:01:53.015  INFO 37853 --- [main] WebAppIntegrationTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2015-04-21 22:01:53.016  INFO 37853 --- [main] WebAppIntegrationTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77ef7b2b, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@373e09c7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3f04847e, org.springframework.test.context.transaction.TransactionalTestExecutionListener@2a7b4b19, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26415b5e]
2015-04-21 22:01:53.056  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.061  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 5 ms.
2015-04-21 22:01:53.061  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.097  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 35 ms.
2015-04-21 22:01:53.120  INFO 37853 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:53.121 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.121 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:53.190 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.190 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:53.202  INFO 37853 --- [http-nio-18081-exec-8] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:53 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:53.203  INFO 37853 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:53.227 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.227 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:53.250  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.253  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:53.253  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.259  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 4 ms.
2015-04-21 22:01:53.273  INFO 37853 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:53.274  INFO 37853 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:53.279  INFO 37853 --- [http-nio-18081-exec-9] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:53 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:01:53.317  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.320  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:53.320  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.325  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:53.346  INFO 37853 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:53.346  INFO 37853 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:53.349 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.349 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:53.428  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.431  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:53.431  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.445  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 10 ms.
2015-04-21 22:01:53.458  INFO 37853 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:53.458  INFO 37853 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:53.460 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.461 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:53.469 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.470 DEBUG 37853 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:53.695  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.698  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:53.699  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.704  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:53.717  INFO 37853 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:53.717  INFO 37853 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:53.720 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.721 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type]
2015-04-21 22:01:53.856  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.859  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:53.860  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.865  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:53.880  INFO 37853 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:53.880  INFO 37853 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:53.883 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:53.883 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:53.966  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:53.970  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:53.970  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:53.987  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 17 ms.
2015-04-21 22:01:54.200  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:54.202  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:54.203  INFO 37853 --- [http-nio-18081-exec-4] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:54 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:01:54.311  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:54.314  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:54.314  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:54.320  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:01:54.368  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:54.368 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:54.368 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:54.431 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:54.431 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:54.480  INFO 37853 --- [http-nio-18081-exec-5] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:54 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:54.480  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:54.501 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:54.502 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:54.532 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:54.532 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:54.556 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:54.557 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:54.582  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:54.585  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:54.586  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:54.591  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:55.524  INFO 37853 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : token=???
2015-04-21 22:01:55.525 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:55.525 DEBUG 37853 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:55.591  INFO 37853 --- [http-nio-18081-exec-6] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:55 EDT 2015, principal=???, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=??? is not a valid token}]
2015-04-21 22:01:55.615  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:55.618  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:55.619  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:55.624  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:55.656  INFO 37853 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=????
2015-04-21 22:01:55.657 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:55.657 DEBUG 37853 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:55.666  INFO 37853 --- [http-nio-18081-exec-2] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:55 EDT 2015, principal=????, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=???? is not a valid token}]
2015-04-21 22:01:55.697  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:55.699  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:01:55.700  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:55.706  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:01:55.743  INFO 37853 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=????
2015-04-21 22:01:55.743 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:55.743 DEBUG 37853 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:55.789  INFO 37853 --- [http-nio-18081-exec-3] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:55 EDT 2015, principal=????, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=???? is not a valid token}]
2015-04-21 22:01:55.876  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:55.880  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:01:55.880  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:55.886  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:01:55.933  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:55.933  INFO 37853 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:55.935 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:55.935 DEBUG 37853 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:55.962  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:55.965  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:55.966  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:55.974  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 8 ms.
2015-04-21 22:01:56.004  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:56.004 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:56.004 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:56.053 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:56.054 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:56.122  INFO 37853 --- [http-nio-18081-exec-5] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:56 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:56.122  INFO 37853 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:56.125 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:56.126 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:56.204 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:56.205 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:56.238 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:56.238 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:56.600 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:01:56.601 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:01:56.607 DEBUG 37853 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows and returned 1 keys
2015-04-21 22:01:57.061 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.062 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.088  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:57.157  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 69 ms.
2015-04-21 22:01:57.157  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:57.171  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 14 ms.
2015-04-21 22:01:57.223  INFO 37853 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:57.223 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.223 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:57.266 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.266 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:57.276  INFO 37853 --- [http-nio-18081-exec-8] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:57 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:57.276  INFO 37853 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:57.279 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.279 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.424 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:01:57.425 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_space SET deleted=? WHERE id=?]
2015-04-21 22:01:57.427 DEBUG 37853 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:01:57.472 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.472 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.490  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:57.494  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:57.494  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:57.506  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 12 ms.
2015-04-21 22:01:57.525  INFO 37853 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:01:57.525  INFO 37853 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:01:57.525  INFO 37853 --- [http-nio-18081-exec-7] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:57 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:01:57.548  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:57.551  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:57.551  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:57.556  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:01:57.560 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.561 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.582  INFO 37853 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:57.583 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.583 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:57.594 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.594 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:57.601  INFO 37853 --- [http-nio-18081-exec-9] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:57 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:57.601  INFO 37853 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:57.604 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.605 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.647 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:01:57.648 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_space SET name=?, abbreviation=?, description=?, logo_url=?, website_url=?, email=?, address=?, last_update=? WHERE id=?]
2015-04-21 22:01:57.672 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:01:57.674 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.674 DEBUG 37853 --- [http-nio-18081-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:01:57.805 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.805 DEBUG 37853 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:57.818  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:01:57.821  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:01:57.821  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:01:57.830  INFO 37853 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 9 ms.
2015-04-21 22:01:57.856  INFO 37853 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:01:57.856 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.857 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:01:57.920 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.920 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:01:57.938  INFO 37853 --- [http-nio-18081-exec-10] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:01:57 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:01:57.938  INFO 37853 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:01:57.942 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:01:57.942 DEBUG 37853 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:01:58.034  INFO 37853 --- [Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:01:36 EDT 2015]; root of context hierarchy
2015-04-21 22:08:07.806  INFO 37949 --- [main] o.a.maven.surefire.booter.ForkedBooter   : Starting ForkedBooter v2.15 on herve-3.local with PID 37949 (/Users/herve/.m2/repository/org/apache/maven/surefire/surefire-booter/2.15/surefire-booter-2.15.jar started by herve in /Users/herve/Projects/mora/mora-rest-space3)
2015-04-21 22:08:08.917  INFO 37949 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:08:08 EDT 2015]; root of context hierarchy
2015-04-21 22:08:11.439  INFO 37949 --- [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'beanNameViewResolver': replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/ErrorMvcAutoConfiguration$WhitelabelErrorViewConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter; factoryMethodName=beanNameViewResolver; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.class]]
2015-04-21 22:08:13.319  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cache.annotation.ProxyCachingConfiguration' of type [class org.springframework.cache.annotation.ProxyCachingConfiguration$$EnhancerBySpringCGLIB$$363e5123] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.494  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [class org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cee086c5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.548  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'transactionAttributeSource' of type [class org.springframework.transaction.annotation.AnnotationTransactionAttributeSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.575  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'transactionInterceptor' of type [class org.springframework.transaction.interceptor.TransactionInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.584  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.config.internalTransactionAdvisor' of type [class org.springframework.transaction.interceptor.BeanFactoryTransactionAttributeSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.646  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'cacheOperationSource' of type [class org.springframework.cache.annotation.AnnotationCacheOperationSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.671  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'cacheInterceptor' of type [class org.springframework.cache.interceptor.CacheInterceptor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:13.684  INFO 37949 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cache.config.internalCacheAdvisor' of type [class org.springframework.cache.interceptor.BeanFactoryCacheOperationSourceAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2015-04-21 22:08:14.926  INFO 37949 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 18081 (http)
2015-04-21 22:08:15.380  INFO 37949 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2015-04-21 22:08:15.392  INFO 37949 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.0.20
2015-04-21 22:08:15.634  INFO 37949 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2015-04-21 22:08:15.636  INFO 37949 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 6727 ms
2015-04-21 22:08:17.520  INFO 37949 --- [localhost-startStop-1] o.s.j.d.DriverManagerDataSource          : Loaded JDBC driver: com.mysql.jdbc.Driver
2015-04-21 22:08:18.819  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/health],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(java.security.Principal)
2015-04-21 22:08:18.820  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/configprops],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.821  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
2015-04-21 22:08:18.822  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/env],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.823  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/dump],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.824  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/trace],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.825  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/beans],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.830  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics/{name:.*}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
2015-04-21 22:08:18.833  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/metrics],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.834  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/shutdown],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.ShutdownMvcEndpoint.invoke()
2015-04-21 22:08:18.835  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/info],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.837  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/autoconfig],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:18.837  INFO 37949 --- [localhost-startStop-1] o.s.b.a.e.mvc.EndpointHandlerMapping     : Mapped "{[/mappings],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2015-04-21 22:08:19.748  INFO 37949 --- [localhost-startStop-1] b.a.s.AuthenticationManagerConfiguration : 

Using default security password: 3715eb21-e662-4b0c-aa09-d463a77e3da5

2015-04-21 22:08:19.772  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/css/**'], []
2015-04-21 22:08:19.774  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/js/**'], []
2015-04-21 22:08:19.774  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/images/**'], []
2015-04-21 22:08:19.774  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/**/favicon.ico'], []
2015-04-21 22:08:19.774  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: Ant [pattern='/error'], []
2015-04-21 22:08:19.870  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bf67ccd, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e25bf64, org.springframework.security.web.header.HeaderWriterFilter@3aa8c38e, org.springframework.security.web.authentication.logout.LogoutFilter@224168d3, tchepannou.mora.rest.core.security.TokenAuthenticationFilter@79c892b5, tchepannou.mora.rest.core.security.CorsFilter@1c5707a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@240c0cc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4720cb3, org.springframework.security.web.session.SessionManagementFilter@61be013a, org.springframework.security.web.access.ExceptionTranslationFilter@ad12907, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5906c61]
2015-04-21 22:08:19.893  INFO 37949 --- [localhost-startStop-1] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: OrRequestMatcher [requestMatchers=[Ant [pattern='/health'], Ant [pattern='/health/**'], Ant [pattern='/health.*'], Ant [pattern='/info'], Ant [pattern='/info/**'], Ant [pattern='/info.*'], Ant [pattern='/configprops'], Ant [pattern='/configprops/**'], Ant [pattern='/configprops.*'], Ant [pattern='/env'], Ant [pattern='/env/**'], Ant [pattern='/env.*'], Ant [pattern='/dump'], Ant [pattern='/dump/**'], Ant [pattern='/dump.*'], Ant [pattern='/trace'], Ant [pattern='/trace/**'], Ant [pattern='/trace.*'], Ant [pattern='/beans'], Ant [pattern='/beans/**'], Ant [pattern='/beans.*'], Ant [pattern='/metrics'], Ant [pattern='/metrics/**'], Ant [pattern='/metrics.*'], Ant [pattern='/shutdown'], Ant [pattern='/shutdown/**'], Ant [pattern='/shutdown.*'], Ant [pattern='/autoconfig'], Ant [pattern='/autoconfig/**'], Ant [pattern='/autoconfig.*'], Ant [pattern='/mappings'], Ant [pattern='/mappings/**'], Ant [pattern='/mappings.*']]], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f24617a, org.springframework.security.web.context.SecurityContextPersistenceFilter@539415ee, org.springframework.security.web.header.HeaderWriterFilter@62d8263d, org.springframework.security.web.authentication.logout.LogoutFilter@747a46dd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@111ad461, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1664a6da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35ae83e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3314d1b1, org.springframework.security.web.session.SessionManagementFilter@5de38edb, org.springframework.security.web.access.ExceptionTranslationFilter@7f575c4a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c948ecd]
2015-04-21 22:08:20.250  INFO 37949 --- [localhost-startStop-1] o.s.b.c.e.ServletRegistrationBean        : Mapping servlet: 'dispatcherServlet' to [/]
2015-04-21 22:08:20.260  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'metricFilter' to: [/*]
2015-04-21 22:08:20.262  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'characterEncodingFilter' to: [/*]
2015-04-21 22:08:20.262  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'webRequestLoggingFilter' to: [/*]
2015-04-21 22:08:20.262  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'springSecurityFilterChain' to: [/*]
2015-04-21 22:08:20.263  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2015-04-21 22:08:20.263  INFO 37949 --- [localhost-startStop-1] o.s.b.c.embedded.FilterRegistrationBean  : Mapping filter: 'applicationContextIdFilter' to: [/*]
2015-04-21 22:08:20.792  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:08:08 EDT 2015]; root of context hierarchy
2015-04-21 22:08:20.863  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.get(long) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:08:20.866  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.update(long,tchepannou.mora.rest.space.dto.SaveMemberDto) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:08:20.866  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members/{memberId}],methods=[DELETE],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public void tchepannou.mora.rest.space.controller.MemberController.delete(long)
2015-04-21 22:08:20.867  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/members],methods=[PUT],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.MemberDto tchepannou.mora.rest.space.controller.MemberController.create(tchepannou.mora.rest.space.dto.CreateMemberDto) throws tchepannou.mora.core.exception.MemberException
2015-04-21 22:08:20.870  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.get(long)
2015-04-21 22:08:20.870  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/types/{typeId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceTypeDto tchepannou.mora.rest.space.controller.SpaceController.type(long)
2015-04-21 22:08:20.870  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[POST],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.update(long,tchepannou.mora.rest.space.dto.SaveSpaceDto)
2015-04-21 22:08:20.874  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/{spaceId}],methods=[DELETE],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public void tchepannou.mora.rest.space.controller.SpaceController.delete(long)
2015-04-21 22:08:20.874  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces],methods=[PUT],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public tchepannou.mora.rest.space.dto.SpaceDto tchepannou.mora.rest.space.controller.SpaceController.create(java.security.Principal,tchepannou.mora.rest.space.dto.CreateSpaceDto)
2015-04-21 22:08:20.883  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/spaces/types],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public java.util.List<tchepannou.mora.rest.space.dto.SpaceTypeDto> tchepannou.mora.rest.space.controller.SpaceController.types()
2015-04-21 22:08:20.890  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],methods=[],params=[],headers=[],consumes=[],produces=[],custom=[]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2015-04-21 22:08:20.891  INFO 37949 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],methods=[],params=[],headers=[],consumes=[],produces=[text/html],custom=[]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest)
2015-04-21 22:08:20.961  INFO 37949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:08:20.961  INFO 37949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:08:21.038  INFO 37949 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2015-04-21 22:08:21.304  INFO 37949 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 18081 (http)
2015-04-21 22:08:21.310  INFO 37949 --- [main] o.a.maven.surefire.booter.ForkedBooter   : Started ForkedBooter in 14.888 seconds (JVM running for 18.19)
2015-04-21 22:08:21.898  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:21.909  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 10 ms.
2015-04-21 22:08:21.910  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:21.962  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 51 ms.
2015-04-21 22:08:23.789  INFO 37949 --- [http-nio-18081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2015-04-21 22:08:23.790  INFO 37949 --- [http-nio-18081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started
2015-04-21 22:08:23.826  INFO 37949 --- [http-nio-18081-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 35 ms
2015-04-21 22:08:23.866  INFO 37949 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:23.882 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:23.883 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:23.968 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:23.969 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:23.995  INFO 37949 --- [http-nio-18081-exec-1] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:23 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:23.996  INFO 37949 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:24.117 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:24.118 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:24.179 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:08:24.181 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_member SET role_id=? WHERE id=?]
2015-04-21 22:08:24.240  INFO 37949 --- [http-nio-18081-exec-1] o.s.b.f.xml.XmlBeanDefinitionReader      : Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
2015-04-21 22:08:24.353  INFO 37949 --- [http-nio-18081-exec-1] o.s.jdbc.support.SQLErrorCodesFactory    : SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
2015-04-21 22:08:24.425  WARN 37949 --- [http-nio-18081-exec-1] t.m.r.space.controller.MemberController  : tchepannou.mora.core.domain.Member@5a152323[spaceId=1,userId=1,roleId=2,creationDate=2014-12-01 14:30:55.0,id=10] already exists

tchepannou.mora.core.exception.MemberDuplicationException: duplicate member
	at tchepannou.mora.core.service.impl.MemberServiceImpl.update(MemberServiceImpl.java:70)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:317)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:350)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:299)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.update(Unknown Source)
	at tchepannou.mora.rest.space.controller.MemberController.update(MemberController.java:71)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:644)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:291)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.CorsFilter.doFilter(CorsFilter.java:21)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.TokenAuthenticationFilter.doFilter(TokenAuthenticationFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.MetricFilterAutoConfiguration$MetricsFilter.doFilterInternal(MetricFilterAutoConfiguration.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:516)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1086)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:659)
	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [UPDATE t_member SET role_id=? WHERE id=?]; Duplicate entry '1-1-2' for key 'space_id'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:660)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:909)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:970)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:980)
	at tchepannou.mora.core.dao.jdbc.JdbcMemberDao.update(JdbcMemberDao.java:85)
	at tchepannou.mora.core.service.impl.MemberServiceImpl.update(MemberServiceImpl.java:67)
	... 104 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1040)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2468)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2629)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2719)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2450)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2355)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:916)
	at org.springframework.jdbc.core.JdbcTemplate$2.doInPreparedStatement(JdbcTemplate.java:909)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:644)
	... 109 common frames omitted

2015-04-21 22:08:24.427 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:24.427 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT M.* FROM t_member M JOIN t_space S ON S.id=M.space_id JOIN t_user U ON U.id=M.user_id  WHERE M.space_id=? AND M.user_id=? AND M.role_id=? AND S.deleted=? AND U.deleted=?]
2015-04-21 22:08:25.645  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:25.657  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 12 ms.
2015-04-21 22:08:25.657  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:25.684  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 25 ms.
2015-04-21 22:08:25.748  INFO 37949 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:25.748  INFO 37949 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:25.753 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:25.753 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:25.835  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:25.838  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:08:25.839  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:25.846  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 7 ms.
2015-04-21 22:08:25.883  INFO 37949 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:25.884  INFO 37949 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:25.887 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:25.887 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:26.019  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:26.022  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:26.022  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:26.028  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:08:26.072  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:26.073 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.073 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:26.098 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.098 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:26.107  INFO 37949 --- [http-nio-18081-exec-4] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:26 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:26.108  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:26.114 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:08:26.116 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:08:26.155 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows and returned 1 keys
2015-04-21 22:08:26.291 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.291 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:26.347  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:26.353  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 5 ms.
2015-04-21 22:08:26.354  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:26.379  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 25 ms.
2015-04-21 22:08:26.395  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:26.396 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.396 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:26.459 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.459 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:26.499  INFO 37949 --- [http-nio-18081-exec-5] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:26 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:26.499  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:26.502 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.502 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:26.523 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:08:26.523 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [DELETE FROM t_member WHERE id=?]
2015-04-21 22:08:26.535 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:08:26.552 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.553 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:26.587  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:26.590  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:26.590  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:26.598  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 8 ms.
2015-04-21 22:08:26.620  INFO 37949 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:26.621 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.621 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:26.635 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.635 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:26.642  INFO 37949 --- [http-nio-18081-exec-6] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:26 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:26.642  INFO 37949 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:26.644 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:08:26.644 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:08:26.688  WARN 37949 --- [http-nio-18081-exec-6] t.m.r.space.controller.MemberController  : User{1 + is already member of Space{1} as RoleP2}

tchepannou.mora.core.exception.MemberDuplicationException: duplicate member
	at tchepannou.mora.core.service.impl.MemberServiceImpl.create(MemberServiceImpl.java:59)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.cache.interceptor.CacheInterceptor$1.invoke(CacheInterceptor.java:52)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:317)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:350)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:299)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)
	at com.sun.proxy.$Proxy73.create(Unknown Source)
	at tchepannou.mora.rest.space.controller.MemberController.create(MemberController.java:49)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:776)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:705)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:879)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:291)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:291)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.CorsFilter.doFilter(CorsFilter.java:21)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at tchepannou.mora.rest.core.security.TokenAuthenticationFilter.doFilter(TokenAuthenticationFilter.java:47)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:57)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:85)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.springframework.boot.actuate.autoconfigure.MetricFilterAutoConfiguration$MetricsFilter.doFilterInternal(MetricFilterAutoConfiguration.java:90)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:239)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:516)
	at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1086)
	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:659)
	at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:745)
Caused by: org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL []; Duplicate entry '1-1-2' for key 'space_id'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:660)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:943)
	at tchepannou.mora.core.dao.jdbc.JdbcModelDao.create(JdbcModelDao.java:19)
	at tchepannou.mora.core.dao.jdbc.JdbcMemberDao.create(JdbcMemberDao.java:17)
	at tchepannou.mora.core.service.impl.MemberServiceImpl.create(MemberServiceImpl.java:55)
	... 104 common frames omitted
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '1-1-2' for key 'space_id'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:411)
	at com.mysql.jdbc.Util.getInstance(Util.java:386)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1040)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4074)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4006)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2468)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2629)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2719)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2450)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2371)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2355)
	at org.springframework.jdbc.core.JdbcTemplate$3.doInPreparedStatement(JdbcTemplate.java:946)
	at org.springframework.jdbc.core.JdbcTemplate$3.doInPreparedStatement(JdbcTemplate.java:943)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:644)
	... 108 common frames omitted

2015-04-21 22:08:26.690 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.690 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT M.* FROM t_member M JOIN t_space S ON S.id=M.space_id JOIN t_user U ON U.id=M.user_id  WHERE M.space_id=? AND M.user_id=? AND M.role_id=? AND S.deleted=? AND U.deleted=?]
2015-04-21 22:08:26.817  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:26.820  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:26.821  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:26.829  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 8 ms.
2015-04-21 22:08:26.859  INFO 37949 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:26.859 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.859 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:26.873 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.873 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:26.891  INFO 37949 --- [http-nio-18081-exec-7] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:26 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:26.892  INFO 37949 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:26.894 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:26.895 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_member WHERE id=?]
2015-04-21 22:08:26.907 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:08:26.907 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_member SET role_id=? WHERE id=?]
2015-04-21 22:08:26.951 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:08:27.065  INFO 37949 --- [main] WebAppIntegrationTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2015-04-21 22:08:27.067  INFO 37949 --- [main] WebAppIntegrationTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38e46ea, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@116f823c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7f5a5ef3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4c53ce60, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3d1b6816]
2015-04-21 22:08:27.099  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.102  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:27.102  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.109  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 7 ms.
2015-04-21 22:08:27.138  INFO 37949 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:27.139 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.139 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:27.145 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.146 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:27.152  INFO 37949 --- [http-nio-18081-exec-8] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:27 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:27.153  INFO 37949 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:27.174 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.174 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:27.270  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.274  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:08:27.274  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.282  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 8 ms.
2015-04-21 22:08:27.356  INFO 37949 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:27.356  INFO 37949 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:27.362  INFO 37949 --- [http-nio-18081-exec-9] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:27 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:08:27.398  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.403  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 5 ms.
2015-04-21 22:08:27.403  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.409  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:08:27.424  INFO 37949 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:27.425  INFO 37949 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:27.427 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.427 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:27.446  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.449  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:08:27.449  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.454  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 5 ms.
2015-04-21 22:08:27.466  INFO 37949 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:27.466  INFO 37949 --- [http-nio-18081-exec-1] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:27.468 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.468 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:27.475 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.475 DEBUG 37949 --- [http-nio-18081-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:27.674  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.686  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 6 ms.
2015-04-21 22:08:27.686  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.698  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 11 ms.
2015-04-21 22:08:27.716  INFO 37949 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:27.717  INFO 37949 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:27.720 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.720 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type]
2015-04-21 22:08:27.873  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:27.876  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:27.876  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:27.902  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 25 ms.
2015-04-21 22:08:27.924  INFO 37949 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:27.924  INFO 37949 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:27.927 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:27.927 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:28.042  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:28.048  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 6 ms.
2015-04-21 22:08:28.049  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:28.069  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 20 ms.
2015-04-21 22:08:28.555  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:28.555  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:28.556  INFO 37949 --- [http-nio-18081-exec-4] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:28 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:08:28.591  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:28.594  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:28.594  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:28.636  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 42 ms.
2015-04-21 22:08:28.684  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:28.685 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:28.685 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:28.752 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:28.752 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:28.842  INFO 37949 --- [http-nio-18081-exec-5] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:28 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:28.842  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:28.860 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:28.861 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:28.896 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:28.896 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:28.920 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:28.920 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:28.943  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:28.946  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:28.946  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:28.956  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 10 ms.
2015-04-21 22:08:29.722  INFO 37949 --- [http-nio-18081-exec-6] t.m.r.c.s.TokenAuthenticationFilter      : token=???
2015-04-21 22:08:29.722 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:29.722 DEBUG 37949 --- [http-nio-18081-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:29.781  INFO 37949 --- [http-nio-18081-exec-6] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:29 EDT 2015, principal=???, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=??? is not a valid token}]
2015-04-21 22:08:29.845  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:29.851  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 6 ms.
2015-04-21 22:08:29.851  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:29.883  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 32 ms.
2015-04-21 22:08:29.916  INFO 37949 --- [http-nio-18081-exec-2] t.m.r.c.s.TokenAuthenticationFilter      : token=????
2015-04-21 22:08:29.916 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:29.916 DEBUG 37949 --- [http-nio-18081-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:29.937  INFO 37949 --- [http-nio-18081-exec-2] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:29 EDT 2015, principal=????, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=???? is not a valid token}]
2015-04-21 22:08:29.961  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:29.965  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:08:29.966  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:29.998  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 32 ms.
2015-04-21 22:08:30.013  INFO 37949 --- [http-nio-18081-exec-3] t.m.r.c.s.TokenAuthenticationFilter      : token=????
2015-04-21 22:08:30.013 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.014 DEBUG 37949 --- [http-nio-18081-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:30.035  INFO 37949 --- [http-nio-18081-exec-3] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:30 EDT 2015, principal=????, type=AUTHENTICATION_FAILURE, data={type=org.springframework.security.authentication.BadCredentialsException, message=???? is not a valid token}]
2015-04-21 22:08:30.072  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:30.077  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 4 ms.
2015-04-21 22:08:30.077  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:30.086  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 9 ms.
2015-04-21 22:08:30.119  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:30.120  INFO 37949 --- [http-nio-18081-exec-5] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:30.122 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.122 DEBUG 37949 --- [http-nio-18081-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:30.158  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:30.161  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 2 ms.
2015-04-21 22:08:30.162  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:30.188  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 26 ms.
2015-04-21 22:08:30.230  INFO 37949 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:30.231 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.231 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:30.249 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.249 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:30.262  INFO 37949 --- [http-nio-18081-exec-8] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:30 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:30.263  INFO 37949 --- [http-nio-18081-exec-8] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:30.266 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.266 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:30.282 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.282 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:30.295 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.296 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:30.312 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2015-04-21 22:08:30.313 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2015-04-21 22:08:30.316 DEBUG 37949 --- [http-nio-18081-exec-8] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows and returned 1 keys
2015-04-21 22:08:30.503 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.503 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:30.535  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:30.539  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 3 ms.
2015-04-21 22:08:30.539  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:30.550  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 11 ms.
2015-04-21 22:08:30.564  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:30.565 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.565 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:30.584 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.584 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:30.612  INFO 37949 --- [http-nio-18081-exec-4] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:30 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:30.613  INFO 37949 --- [http-nio-18081-exec-4] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:30.615 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.615 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:30.634 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:08:30.634 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_space SET deleted=? WHERE id=?]
2015-04-21 22:08:30.635 DEBUG 37949 --- [http-nio-18081-exec-4] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:08:30.644 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.645 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:30.669  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:30.686  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 17 ms.
2015-04-21 22:08:30.686  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:30.693  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 7 ms.
2015-04-21 22:08:30.708  INFO 37949 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : token=null
2015-04-21 22:08:30.708  INFO 37949 --- [http-nio-18081-exec-9] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@52a3d06d: Principal: anonymous; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_ANONYMOUS
2015-04-21 22:08:30.709  INFO 37949 --- [http-nio-18081-exec-9] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:30 EDT 2015, principal=anonymous, type=AUTHORIZATION_FAILURE, data={type=org.springframework.security.access.AccessDeniedException, message=Access is denied}]
2015-04-21 22:08:30.751  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:30.793  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 42 ms.
2015-04-21 22:08:30.793  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:30.799  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 6 ms.
2015-04-21 22:08:30.804 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.805 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:30.854  INFO 37949 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:30.855 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.855 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:30.914 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.914 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:30.928  INFO 37949 --- [http-nio-18081-exec-7] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:30 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:30.928  INFO 37949 --- [http-nio-18081-exec-7] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:30.931 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.932 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:30.943 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2015-04-21 22:08:30.944 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE t_space SET name=?, abbreviation=?, description=?, logo_url=?, website_url=?, email=?, address=?, last_update=? WHERE id=?]
2015-04-21 22:08:30.945 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : SQL update affected 1 rows
2015-04-21 22:08:30.946 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:30.946 DEBUG 37949 --- [http-nio-18081-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space_type WHERE id=?]
2015-04-21 22:08:31.078 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:31.079 DEBUG 37949 --- [main] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:31.093  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-clean.sql]
2015-04-21 22:08:31.109  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-clean.sql] in 16 ms.
2015-04-21 22:08:31.110  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executing SQL script from class path resource [db/rest-space-populate.sql]
2015-04-21 22:08:31.114  INFO 37949 --- [main] o.s.jdbc.datasource.init.ScriptUtils     : Executed SQL script from class path resource [db/rest-space-populate.sql] in 4 ms.
2015-04-21 22:08:31.135  INFO 37949 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : token=bc9a50e1e0085b13c4bba866f6dfe57c
2015-04-21 22:08:31.136 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:31.136 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_access_token WHERE value=?]
2015-04-21 22:08:31.151 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:31.152 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_user WHERE id=?]
2015-04-21 22:08:31.173  INFO 37949 --- [http-nio-18081-exec-10] o.s.b.a.audit.listener.AuditListener     : AuditEvent [timestamp=Tue Apr 21 22:08:31 EDT 2015, principal=bc9a50e1e0085b13c4bba866f6dfe57c, type=AUTHENTICATION_SUCCESS, data={}]
2015-04-21 22:08:31.173  INFO 37949 --- [http-nio-18081-exec-10] t.m.r.c.s.TokenAuthenticationFilter      : Authenticated: tchepannou.mora.rest.core.security.TokenAuthentication@66b92918: Principal: bc9a50e1e0085b13c4bba866f6dfe57c; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ROLE_USER
2015-04-21 22:08:31.175 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2015-04-21 22:08:31.175 DEBUG 37949 --- [http-nio-18081-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM t_space WHERE id=?]
2015-04-21 22:08:31.198  INFO 37949 --- [Thread-2] ationConfigEmbeddedWebApplicationContext : Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@74a6a609: startup date [Tue Apr 21 22:08:08 EDT 2015]; root of context hierarchy
